{"version":3,"file":"src_components_Statistics_js.js","mappings":"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","sources":["webpack://booking-calendar-2/./src/components/Statistics.js"],"sourcesContent":["import React from 'react'\r\nimport API from './custom/API'\r\nimport {\r\n\tChart as ChartJS,\r\n\tCategoryScale,\r\n\tLinearScale,\r\n\tPointElement,\r\n\tLineElement,\r\n\tTitle,\r\n\tTooltip,\r\n\tLegend,\r\n} from 'chart.js'\r\nimport { Line } from 'react-chartjs-2'\r\nimport Spinner from './custom/Spinner'\r\n\r\nChartJS.register(\r\n\tCategoryScale,\r\n\tLinearScale,\r\n\tPointElement,\r\n\tLineElement,\r\n\tTitle,\r\n\tTooltip,\r\n\tLegend\r\n)\r\n\r\nclass Statistics extends React.Component\r\n{\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tshowLoading: false,\t\t\t\r\n\t\t\tmoStatistics: '',\r\n\t\t\tyrStatistics: '',\r\n\t\t\tsummary: {\r\n\t\t\t\tdaily: 0,\r\n\t\t\t\tweekly: 0,\r\n\t\t\t\tmonthly: 0,\r\n\t\t\t\tyearly: 0\r\n\t\t\t},\r\n\t\t\tmoConfig: {\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [{\r\n\t\t\t\t\tlabel: 'Booking',\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tborderColor: '#3f83f8',\r\n\t\t\t\t\tbackgroundColor: '#3f83f878',\r\n\t\t\t\t\tpointStyle: 'circle',\r\n\t\t\t\t\tpointRadius: 8,\r\n\t\t\t\t\tpointHoverRadius: 10\r\n\t\t\t\t}]\r\n\t\t\t},\r\n\t\t\tyrConfig: {\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [{\r\n\t\t\t\t\tlabel: 'Booking',\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tborderColor: '#3f83f8',\r\n\t\t\t\t\tbackgroundColor: '#3f83f878',\r\n\t\t\t\t\tpointStyle: 'circle',\r\n\t\t\t\t\tpointRadius: 8,\r\n\t\t\t\t\tpointHoverRadius: 10\r\n\t\t\t\t}]\r\n\t\t\t},\r\n\t\t\toptions: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tplugins: {\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({showLoading: true})\r\n\t\tAPI.get('wpcb/statistics')\r\n\t\t.then(res => {\r\n\t\t\tlet statistics = res.data.statistics\r\n\t\t\tlet summary = res.data.summary\r\n\r\n\t\t\tlet moData = this.state.moConfig\r\n\t\t\tfor (let mo in statistics.monthly) {\r\n\t\t\t\tmoData.labels.push(mo)\r\n\t\t\t\tmoData.datasets[0].data.push(statistics.monthly[mo])\r\n\t\t\t}\r\n\r\n\t\t\tlet yrData = this.state.yrConfig\r\n\t\t\tfor (let yr in statistics.yearly) {\r\n\t\t\t\tyrData.labels.push(yr)\r\n\t\t\t\tyrData.datasets[0].data.push(statistics.yearly[yr])\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowLoading: false,\r\n\t\t\t\tsummary,\r\n\t\t\t\tmoStatistics: <Line options={this.state.options} data={moData} />,\r\n\t\t\t\tyrStatistics: <Line options={this.state.options} data={yrData} />\r\n\t\t\t})\r\n\t\t\t\t\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tconsole.log('Error in retrieving of statistics')\r\n\t\t\tconsole.log(err)\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t<Spinner isVisible={this.state.showLoading} />\r\n\t\t\t<div className={'mt-2 p-4 '+(this.state.showLoading ? 'd-none' : '')}>\r\n\t\t\t\t<div id='summary' className='mb-5 pb-5'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div id='daily' className='col-md-3 col-sm-6'>\r\n\t\t\t\t\t\t\t<div class=\"data d-flex align-items-center p-3 rounded\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon flex-shrink-1 p-3 ms-1 me-3\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-book text-center w-9\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"label text-left\">Today</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"count text-left\">{this.state.summary.daily} <i class=\"fa fa-caret-up\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id='weekly' className='col-md-3 col-sm-6'>\r\n\t\t\t\t\t\t\t<div class=\"data d-flex align-items-center p-3 rounded\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon flex-shrink-1 p-3 ms-1 me-3\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-book text-center w-9\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"label text-left\">This Week</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"count text-left\">{this.state.summary.weekly} <i class=\"fa fa-caret-up\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id='monthly' className='col-md-3 col-sm-6'>\r\n\t\t\t\t\t\t\t<div class=\"data d-flex align-items-center p-3 rounded\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon flex-shrink-1 p-3 ms-1 me-3\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-book text-center w-9\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"label text-left\">This Month</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"count text-left\">{this.state.summary.monthly} <i class=\"fa fa-caret-up\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id='yearly' className='col-md-3 col-sm-6'>\r\n\t\t\t\t\t\t\t<div class=\"data d-flex align-items-center p-3 rounded\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon flex-shrink-1 p-3 ms-1 me-3\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-book text-center w-9\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"label text-left\">This Year</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"count text-left\">{this.state.summary.yearly} <i class=\"fa fa-caret-up\"></i></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id='statistics' className='mt-5'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div className='col-sm-6'>\r\n\t\t\t\t\t\t\t<div className='text-center h6 mb-2'>MONTHLY</div>\r\n\t\t\t\t\t\t\t{this.state.moStatistics}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-sm-6'>\r\n\t\t\t\t\t\t\t<div className='text-center h6 mb-2'>YEARLY</div>\r\n\t\t\t\t\t\t\t{this.state.yrStatistics}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Statistics"],"names":["React","API","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","Spinner","register","Statistics","Component","constructor","props","state","showLoading","moStatistics","yrStatistics","summary","daily","weekly","monthly","yearly","moConfig","labels","datasets","label","data","borderColor","backgroundColor","pointStyle","pointRadius","pointHoverRadius","yrConfig","options","responsive","plugins","legend","display","title","componentDidMount","setState","get","then","res","statistics","moData","mo","push","yrData","yr","createElement","catch","err","console","log","render","Fragment","isVisible","className","id","class"],"sourceRoot":""}